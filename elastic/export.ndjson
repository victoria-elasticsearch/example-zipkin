{"attributes":{"buildNum":24337,"defaultIndex":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","state:storeInSessionStorage":true,"theme:darkMode":null},"id":"7.2.0","references":[],"type":"config","updated_at":"2019-07-17T03:57:38.558Z","version":"WzE2MjksMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"title":"zipkin-elasticVisualization","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"zipkin-elasticVisualization\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\r\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega-lite/v2.json\\\",\\r\\n  \\\"title\\\": \\\"Gantt Visualization Using Vega\\\",\\r\\n  data: {\\r\\n    url: {\\r\\n      %context%: true\\r\\n      %timefield%: timestamp_millis\\r\\n      index: zipkin-*\\r\\n      body: {\\r\\n      size: 30\\r\\n      _source: [\\r\\n                \\\"timestamp_millis\\\",\\r\\n                \\\"end_date\\\",\\r\\n                \\\"service_traceId\\\",\\r\\n            ]\\r\\n      }\\r\\n    }\\r\\n    format: {property: \\\"hits.hits\\\"}\\r\\n  },\\r\\n  \\\"transform\\\": [\\r\\n    {\\\"calculate\\\": \\\"toDate(datum._source.timestamp_millis)\\\", \\\"as\\\": \\\"start\\\"},\\r\\n    {\\\"calculate\\\": \\\"toDate(datum._source.end_date)\\\", \\\"as\\\": \\\"end\\\"},\\r\\n  ],\\r\\n  \\\"mark\\\": \\\"bar\\\",\\r\\n  \\\"encoding\\\": {\\r\\n    \\\"y\\\": {\\\"field\\\": \\\"_source.service_traceId\\\", \\\"type\\\": \\\"nominal\\\"},\\r\\n    \\\"x\\\": {\\r\\n      \\\"timeUnit\\\": \\\"yearmonthdatehoursminutessecondsmilliseconds\\\",\\r\\n      \\\"field\\\": \\\"start\\\", \\r\\n      \\\"type\\\": \\\"temporal\\\"\\r\\n      # \\\"axis\\\": {format: '%H:00',\\\"title\\\": \\\"horaire\\\"}\\r\\n      },\\r\\n    \\\"x2\\\": {\\r\\n      \\\"timeUnit\\\": \\\"yearmonthdatehoursminutessecondsmilliseconds\\\",\\r\\n      \\\"field\\\": \\\"end\\\", \\r\\n      \\\"type\\\": \\\"temporal\\\"\\r\\n      }\\r\\n  }\\r\\n}\\r\\n\\r\\n# x\\\": {\\r\\n\\r\\n#      \\\"aggregate\\\": \\\"mean\\\",\\r\\n# \\\"field\\\": \\\"startime\\\",\\r\\n# \\\"type\\\": \\\"temporal\\\",\\r\\n# \\\"axis\\\": {format: '%H:00',\\\"title\\\": \\\"horaire\\\"}\\r\\n# }\\r\\n# \\r\\n#\\\"x2\\\": {\\r\\n#   \\r\\n#  \\\"field\\\": \\\"endtime\\\",\\r\\n#  \\\"type\\\": \\\"temporal\\\"},\\r\\n# \\\"color\\\": {\\r\\n#  \\\"value\\\": \\\"#33ccff\\\"\\r\\n#  }\\r\\n\\r\\n\"},\"aggs\":[]}"},"id":"d64b0350-a6c1-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[],"type":"visualization","updated_at":"2019-07-15T08:38:01.807Z","version":"WzE1MzQsMV0="}
{"attributes":{"fields":"[{\"name\":\"_id\",\"type\":\"string\",\"esTypes\":[\"_id\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_index\",\"type\":\"string\",\"esTypes\":[\"_index\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"type\":\"_source\",\"esTypes\":[\"_source\"],\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"type\":\"string\",\"esTypes\":[\"_type\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"callCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"child\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"duration\",\"type\":\"number\",\"esTypes\":[\"long\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"end_date\",\"type\":\"date\",\"esTypes\":[\"date\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"errorCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"id\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"kind\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"localEndpoint.serviceName\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"name\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"parent\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"parentId\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"remoteEndpoint.serviceName\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"service_traceId\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"shared\",\"type\":\"boolean\",\"esTypes\":[\"boolean\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"timestamp\",\"type\":\"conflict\",\"esTypes\":[\"date\",\"long\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false,\"conflictDescriptions\":{\"date\":[\"zipkin-dependency-2019-07-17\"],\"long\":[\"zipkin-span-2019-07-17\"]}},{\"name\":\"timestamp_millis\",\"type\":\"date\",\"esTypes\":[\"date\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"traceId\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"duration_ms\",\"type\":\"number\",\"count\":0,\"scripted\":true,\"script\":\"return Math.round(doc[\\\"duration\\\"].value / 1000)\",\"lang\":\"painless\",\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false}]","timeFieldName":"timestamp_millis","title":"zipkin-*"},"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","migrationVersion":{"index-pattern":"6.5.0"},"references":[],"type":"index-pattern","updated_at":"2019-07-17T14:13:32.998Z","version":"WzE2NDksMV0="}
{"attributes":{"columns":["id","traceId","parentId","localEndpoint.serviceName","duration"],"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"highlightAll\":true,\"version\":true,\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"sort":["timestamp_millis","desc"],"title":"zipkin-simple-table","version":1},"id":"f00c2de0-a6cc-11e9-b485-1531326d2ae2","migrationVersion":{"search":"7.0.0"},"references":[{"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"search","updated_at":"2019-07-15T06:53:22.969Z","version":"WzE1MDQsMV0="}
{"attributes":{"columns":["_source"],"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"highlightAll\":true,\"version\":true,\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[{\"meta\":{\"type\":\"phrases\",\"key\":\"kind\",\"value\":\"SERVER, CONSUMER\",\"params\":[\"SERVER\",\"CONSUMER\"],\"alias\":null,\"negate\":false,\"disabled\":false,\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\"},\"query\":{\"bool\":{\"should\":[{\"match_phrase\":{\"kind\":\"SERVER\"}},{\"match_phrase\":{\"kind\":\"CONSUMER\"}}],\"minimum_should_match\":1}},\"$state\":{\"store\":\"appState\"}}],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"sort":["_score","desc"],"title":"zipkin - SERVER Trace","version":1},"id":"61693aa0-a6d2-11e9-b485-1531326d2ae2","migrationVersion":{"search":"7.0.0"},"references":[{"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"},{"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","name":"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index","type":"index-pattern"}],"type":"search","updated_at":"2019-07-16T06:19:05.279Z","version":"WzE1NDIsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"savedSearchRefName":"search_0","title":"Average timeline","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Average timeline\",\"type\":\"line\",\"params\":{\"type\":\"line\",\"grid\":{\"categoryLines\":false},\"categoryAxes\":[{\"id\":\"CategoryAxis-1\",\"type\":\"category\",\"position\":\"bottom\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\"},\"labels\":{\"show\":true,\"truncate\":100},\"title\":{}}],\"valueAxes\":[{\"id\":\"ValueAxis-1\",\"name\":\"LeftAxis-1\",\"type\":\"value\",\"position\":\"left\",\"show\":true,\"style\":{},\"scale\":{\"type\":\"linear\",\"mode\":\"normal\"},\"labels\":{\"show\":true,\"rotate\":0,\"filter\":false,\"truncate\":100},\"title\":{\"text\":\"Average duration_ms\"}}],\"seriesParams\":[{\"show\":\"true\",\"type\":\"line\",\"mode\":\"normal\",\"data\":{\"label\":\"Average duration_ms\",\"id\":\"1\"},\"valueAxis\":\"ValueAxis-1\",\"drawLinesBetweenPoints\":true,\"showCircles\":true}],\"addTooltip\":true,\"addLegend\":true,\"legendPosition\":\"right\",\"times\":[],\"addTimeMarker\":false,\"dimensions\":{\"x\":{\"accessor\":0,\"format\":{\"id\":\"number\"},\"params\":{\"interval\":20000000},\"aggType\":\"histogram\"},\"y\":[{\"accessor\":2,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"avg\"}],\"series\":[{\"accessor\":1,\"format\":{\"id\":\"terms\",\"params\":{\"id\":\"string\",\"otherBucketLabel\":\"Other\",\"missingBucketLabel\":\"Missing\"}},\"params\":{},\"aggType\":\"terms\"}]}},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"date_histogram\",\"schema\":\"segment\",\"params\":{\"field\":\"timestamp_millis\",\"useNormalizedEsInterval\":true,\"interval\":\"auto\",\"drop_partials\":false,\"min_doc_count\":1,\"extended_bounds\":{}}},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"group\",\"params\":{\"field\":\"localEndpoint.serviceName\",\"order\":\"desc\",\"size\":5,\"orderBy\":\"1\",\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\"}}]}"},"id":"0cfcf4e0-a6d5-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"61693aa0-a6d2-11e9-b485-1531326d2ae2","name":"search_0","type":"search"}],"type":"visualization","updated_at":"2019-07-15T07:49:18.766Z","version":"WzE1MTksMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"savedSearchRefName":"search_0","title":"Average (ms)","uiStateJSON":"{\"vis\":{\"params\":{\"sort\":{\"columnIndex\":null,\"direction\":null}}}}","version":1,"visState":"{\"title\":\"Average (ms)\",\"type\":\"table\",\"params\":{\"dimensions\":{\"metrics\":[{\"accessor\":1,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"count\"},{\"accessor\":2,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"min\"},{\"accessor\":3,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"avg\"},{\"accessor\":4,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"max\"},{\"accessor\":5,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"std_dev\"},{\"accessor\":6,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"std_dev\"}],\"buckets\":[{\"accessor\":0,\"format\":{\"id\":\"terms\",\"params\":{\"id\":\"string\",\"otherBucketLabel\":\"Other\",\"missingBucketLabel\":\"Missing\"}},\"params\":{},\"aggType\":\"terms\"}]},\"perPage\":10,\"showMetricsAtAllLevels\":false,\"showPartialRows\":false,\"showTotal\":false,\"sort\":{\"columnIndex\":null,\"direction\":null},\"totalFunc\":\"sum\"},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"4\",\"enabled\":true,\"type\":\"min\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"min (ms)\"}},{\"id\":\"3\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"average (ms)\"}},{\"id\":\"5\",\"enabled\":true,\"type\":\"max\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"max (ms)\"}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"bucket\",\"params\":{\"field\":\"localEndpoint.serviceName\",\"order\":\"desc\",\"size\":5,\"orderBy\":\"5\",\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\"}},{\"id\":\"6\",\"enabled\":true,\"type\":\"std_dev\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"SD\"}}]}"},"id":"a1635fc0-a6d5-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"61693aa0-a6d2-11e9-b485-1531326d2ae2","name":"search_0","type":"search"}],"type":"visualization","updated_at":"2019-07-15T07:54:10.470Z","version":"WzE1MjMsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"savedSearchRefName":"search_0","title":"Average (ns)","uiStateJSON":"{\"vis\":{\"params\":{\"sort\":{\"columnIndex\":null,\"direction\":null}}}}","version":1,"visState":"{\"aggs\":[{\"enabled\":true,\"id\":\"1\",\"params\":{},\"schema\":\"metric\",\"type\":\"count\"},{\"enabled\":true,\"id\":\"4\",\"params\":{\"customLabel\":\"min (n)\",\"field\":\"duration\"},\"schema\":\"metric\",\"type\":\"min\"},{\"enabled\":true,\"id\":\"3\",\"params\":{\"customLabel\":\"average (ns)\",\"field\":\"duration\"},\"schema\":\"metric\",\"type\":\"avg\"},{\"enabled\":true,\"id\":\"5\",\"params\":{\"customLabel\":\"max (ns)\",\"field\":\"duration\"},\"schema\":\"metric\",\"type\":\"max\"},{\"enabled\":true,\"id\":\"2\",\"params\":{\"field\":\"localEndpoint.serviceName\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"order\":\"desc\",\"orderBy\":\"5\",\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"size\":5},\"schema\":\"bucket\",\"type\":\"terms\"},{\"enabled\":true,\"id\":\"6\",\"params\":{\"customLabel\":\"SD\",\"field\":\"duration\"},\"schema\":\"metric\",\"type\":\"std_dev\"}],\"params\":{\"dimensions\":{\"buckets\":[{\"accessor\":0,\"aggType\":\"terms\",\"format\":{\"id\":\"terms\",\"params\":{\"id\":\"string\",\"missingBucketLabel\":\"Missing\",\"otherBucketLabel\":\"Other\"}},\"params\":{}}],\"metrics\":[{\"accessor\":1,\"aggType\":\"count\",\"format\":{\"id\":\"number\"},\"params\":{}},{\"accessor\":2,\"aggType\":\"min\",\"format\":{\"id\":\"number\"},\"params\":{}},{\"accessor\":3,\"aggType\":\"avg\",\"format\":{\"id\":\"number\"},\"params\":{}},{\"accessor\":4,\"aggType\":\"max\",\"format\":{\"id\":\"number\"},\"params\":{}},{\"accessor\":5,\"aggType\":\"std_dev\",\"format\":{\"id\":\"number\"},\"params\":{}},{\"accessor\":6,\"aggType\":\"std_dev\",\"format\":{\"id\":\"number\"},\"params\":{}}]},\"perPage\":10,\"showMetricsAtAllLevels\":false,\"showPartialRows\":false,\"showTotal\":false,\"sort\":{\"columnIndex\":null,\"direction\":null},\"totalFunc\":\"sum\"},\"title\":\"Average (ns)\",\"type\":\"table\"}"},"id":"846a1b00-a6d2-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"61693aa0-a6d2-11e9-b485-1531326d2ae2","name":"search_0","type":"search"}],"type":"visualization","updated_at":"2019-07-15T07:45:10.101Z","version":"WzE1MTgsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"savedSearchRefName":"search_0","title":"Average Duration (ms)","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Average Duration (ms)\",\"type\":\"metric\",\"params\":{\"addTooltip\":true,\"addLegend\":false,\"type\":\"metric\",\"metric\":{\"percentageMode\":false,\"useRanges\":false,\"colorSchema\":\"Green to Red\",\"metricColorMode\":\"None\",\"colorsRange\":[{\"from\":0,\"to\":10000}],\"labels\":{\"show\":true},\"invertColors\":false,\"style\":{\"bgFill\":\"#000\",\"bgColor\":false,\"labelColor\":false,\"subText\":\"\",\"fontSize\":60}},\"dimensions\":{\"metrics\":[{\"accessor\":0,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"avg\"}]}},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"Average Duration (ms)\"}}]}"},"id":"7dcf2480-a78f-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"61693aa0-a6d2-11e9-b485-1531326d2ae2","name":"search_0","type":"search"}],"type":"visualization","updated_at":"2019-07-16T06:04:11.391Z","version":"WzE1MzgsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"[zipkin] - service cloud","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"[zipkin] - service cloud\",\"type\":\"tagcloud\",\"params\":{\"scale\":\"linear\",\"orientation\":\"single\",\"minFontSize\":18,\"maxFontSize\":72,\"showLabel\":true,\"metric\":{\"type\":\"vis_dimension\",\"accessor\":0,\"format\":{\"id\":\"string\",\"params\":{}}}},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"schema\":\"metric\",\"params\":{}},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"schema\":\"segment\",\"params\":{\"field\":\"localEndpoint.serviceName\",\"order\":\"desc\",\"size\":5,\"orderBy\":\"1\",\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\"}}]}"},"id":"f2d70d60-a82f-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2019-07-17T01:12:30.262Z","version":"WzE2MjMsMV0="}
{"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"optionsJSON":"{\"hidePanelTitles\":false,\"useMargins\":true}","panelsJSON":"[{\"embeddableConfig\":{},\"gridData\":{\"x\":0,\"y\":32,\"w\":24,\"h\":14,\"i\":\"1\"},\"panelIndex\":\"1\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_0\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":0,\"y\":16,\"w\":48,\"h\":16,\"i\":\"2\"},\"panelIndex\":\"2\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_1\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":0,\"y\":0,\"w\":34,\"h\":8,\"i\":\"3\"},\"panelIndex\":\"3\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_2\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":24,\"y\":8,\"w\":24,\"h\":8,\"i\":\"4\"},\"panelIndex\":\"4\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_3\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":24,\"y\":32,\"w\":24,\"h\":14,\"i\":\"5\"},\"panelIndex\":\"5\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_4\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":34,\"y\":0,\"w\":14,\"h\":8,\"i\":\"7\"},\"panelIndex\":\"7\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_5\"},{\"embeddableConfig\":{},\"gridData\":{\"x\":0,\"y\":8,\"w\":24,\"h\":8,\"i\":\"8\"},\"panelIndex\":\"8\",\"version\":\"7.2.0\",\"panelRefName\":\"panel_6\"}]","timeRestore":false,"title":"[zipkin] - overview","version":1},"id":"e4e2ee00-a6cb-11e9-b485-1531326d2ae2","migrationVersion":{"dashboard":"7.0.0"},"references":[{"id":"d64b0350-a6c1-11e9-b485-1531326d2ae2","name":"panel_0","type":"visualization"},{"id":"f00c2de0-a6cc-11e9-b485-1531326d2ae2","name":"panel_1","type":"search"},{"id":"0cfcf4e0-a6d5-11e9-b485-1531326d2ae2","name":"panel_2","type":"visualization"},{"id":"a1635fc0-a6d5-11e9-b485-1531326d2ae2","name":"panel_3","type":"visualization"},{"id":"846a1b00-a6d2-11e9-b485-1531326d2ae2","name":"panel_4","type":"visualization"},{"id":"7dcf2480-a78f-11e9-b485-1531326d2ae2","name":"panel_5","type":"visualization"},{"id":"f2d70d60-a82f-11e9-b485-1531326d2ae2","name":"panel_6","type":"visualization"}],"type":"dashboard","updated_at":"2019-07-19T22:06:57.683Z","version":"WzE2NTIsMV0="}
{"attributes":{"fields":"[{\"name\":\"_id\",\"type\":\"string\",\"esTypes\":[\"_id\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_index\",\"type\":\"string\",\"esTypes\":[\"_index\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"type\":\"_source\",\"esTypes\":[\"_source\"],\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"type\":\"string\",\"esTypes\":[\"_type\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"foo\",\"type\":\"string\",\"esTypes\":[\"text\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"foo.keyword\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true,\"parent\":\"foo\",\"subType\":\"multi\"}]","title":"my-*"},"id":"32ab63b0-a6c2-11e9-b485-1531326d2ae2","migrationVersion":{"index-pattern":"6.5.0"},"references":[],"type":"index-pattern","updated_at":"2019-07-15T05:34:23.172Z","version":"WzE0ODQsMV0="}
{"attributes":{"fields":"[{\"name\":\"_id\",\"type\":\"string\",\"esTypes\":[\"_id\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_index\",\"type\":\"string\",\"esTypes\":[\"_index\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"type\":\"_source\",\"esTypes\":[\"_source\"],\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"type\":\"string\",\"esTypes\":[\"_type\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"callCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"child\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"errorCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"id\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"parent\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"service_traceId\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"timestamp\",\"type\":\"date\",\"esTypes\":[\"date\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","title":"zipkin-dependency-*"},"id":"595abb10-a84c-11e9-b485-1531326d2ae2","migrationVersion":{"index-pattern":"6.5.0"},"references":[],"type":"index-pattern","updated_at":"2019-07-17T04:35:49.631Z","version":"WzE2NDEsMV0="}
{"attributes":{"fields":"[{\"name\":\"_id\",\"type\":\"string\",\"esTypes\":[\"_id\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_index\",\"type\":\"string\",\"esTypes\":[\"_index\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"_score\",\"type\":\"number\",\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_source\",\"type\":\"_source\",\"esTypes\":[\"_source\"],\"count\":0,\"scripted\":false,\"searchable\":false,\"aggregatable\":false,\"readFromDocValues\":false},{\"name\":\"_type\",\"type\":\"string\",\"esTypes\":[\"_type\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":false},{\"name\":\"callCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"child\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"errorCount\",\"type\":\"number\",\"esTypes\":[\"integer\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"id\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"parent\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"service_traceId\",\"type\":\"string\",\"esTypes\":[\"keyword\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true},{\"name\":\"timestamp\",\"type\":\"date\",\"esTypes\":[\"date\"],\"count\":0,\"scripted\":false,\"searchable\":true,\"aggregatable\":true,\"readFromDocValues\":true}]","timeFieldName":"timestamp","title":"zipkin-depende*"},"id":"7f23bc20-a84c-11e9-b485-1531326d2ae2","migrationVersion":{"index-pattern":"6.5.0"},"references":[],"type":"index-pattern","updated_at":"2019-07-17T04:41:37.266Z","version":"WzE2NDQsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"Zipkin - average Duration","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Zipkin - average Duration\",\"type\":\"metric\",\"params\":{\"addTooltip\":true,\"addLegend\":false,\"type\":\"metric\",\"metric\":{\"percentageMode\":false,\"useRanges\":false,\"colorSchema\":\"Green to Red\",\"metricColorMode\":\"None\",\"colorsRange\":[{\"from\":0,\"to\":10000}],\"labels\":{\"show\":true},\"invertColors\":false,\"style\":{\"bgFill\":\"#000\",\"bgColor\":false,\"labelColor\":false,\"subText\":\"\",\"fontSize\":60}},\"dimensions\":{\"metrics\":[{\"accessor\":0,\"format\":{\"id\":\"number\"},\"params\":{},\"aggType\":\"count\"}]}},\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"avg\",\"schema\":\"metric\",\"params\":{\"field\":\"duration_ms\",\"customLabel\":\"Average Duration in ms\"}}]}"},"id":"880e8760-a6d1-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[{"id":"2c19a0e0-a06c-11e9-b485-1531326d2ae2","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2019-07-15T07:24:07.254Z","version":"WzE1MDcsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"title":"zipkin - link","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"zipkin - link\",\"type\":\"metrics\",\"params\":{\"axis_formatter\":\"number\",\"axis_position\":\"left\",\"axis_scale\":\"normal\",\"bar_color_rules\":[{\"id\":\"236f1520-a6d8-11e9-9d14-2bba81c8bc62\"}],\"default_index_pattern\":\"zipkin-*\",\"default_timefield\":\"timestamp_millis\",\"filter\":\"\",\"id\":\"61ca57f0-469d-11e7-af02-69e470af7417\",\"index_pattern\":\"\",\"interval\":\"\",\"markdown\":\"\\r\\n{{#each _all}}\\r\\n* trace([{{ label }}](http://localhost:9411/zipkin/traces/{{ label }})), average {{ last.formatted }}\\r\\n{{/each}}\\r\\n\\r\\n\\r\\n\\r\\n    \",\"series\":[{\"axis_position\":\"right\",\"chart_type\":\"line\",\"color\":\"#68BC00\",\"fill\":0.5,\"formatter\":\"number\",\"id\":\"61ca57f1-469d-11e7-af02-69e470af7417\",\"line_width\":1,\"metrics\":[{\"field\":\"duration\",\"id\":\"61ca57f2-469d-11e7-af02-69e470af7417\",\"type\":\"max\"}],\"point_size\":1,\"separate_axis\":0,\"split_mode\":\"terms\",\"stacked\":\"none\",\"terms_field\":\"traceId\",\"label\":\"\",\"var_name\":\"\",\"terms_include\":\"\",\"terms_order_by\":\"61ca57f2-469d-11e7-af02-69e470af7417\"}],\"show_grid\":1,\"show_legend\":1,\"time_field\":\"\",\"type\":\"markdown\",\"markdown_openLinksInNewTab\":1},\"aggs\":[]}"},"id":"df7ed9d0-a6d8-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[],"type":"visualization","updated_at":"2019-07-15T08:34:54.249Z","version":"WzE1MzEsMV0="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"zipkin - sanky","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"zipkin - sanky\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\r\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v3.0.json\\\",\\r\\n  \\\"data\\\": [\\r\\n    {\\r\\n      \\\"name\\\": \\\"rawData\\\",\\r\\n      \\\"url\\\": {\\r\\n        \\\"%context%\\\": true,\\r\\n        \\\"%timefield%\\\": \\\"timestamp\\\",\\r\\n        \\\"index\\\": \\\"zipkin-dependency-*\\\",\\r\\n        \\\"body\\\": {\\r\\n          \\\"size\\\": 0,\\r\\n          \\\"aggs\\\": {\\r\\n            \\\"table\\\": {\\r\\n              \\\"composite\\\": {\\r\\n                \\\"size\\\": 10000,\\r\\n                \\\"sources\\\": [\\r\\n                  {\\r\\n                    \\\"stk1\\\": {\\r\\n                      \\\"terms\\\": {\\r\\n                        \\\"field\\\": \\\"parent\\\"\\r\\n                      }\\r\\n                    }\\r\\n                  },\\r\\n                  {\\r\\n                    \\\"stk2\\\": {\\r\\n                      \\\"terms\\\": {\\r\\n                        \\\"field\\\": \\\"child\\\"\\r\\n                      }\\r\\n                    }\\r\\n                  },\\r\\n                  {\\r\\n                    \\\"size\\\": {\\r\\n                      \\\"terms\\\": {\\r\\n                        \\\"field\\\": \\\"calls\\\"\\r\\n                      }\\r\\n                    }\\r\\n                  }\\r\\n                ]\\r\\n              }\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      },\\r\\n      \\\"format\\\": {\\r\\n        \\\"property\\\": \\\"aggregations.table.buckets\\\"\\r\\n      },\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"nodes\\\",\\r\\n      \\\"source\\\": \\\"rawData\\\",\\r\\n      \\\"transform\\\": [\\r\\n        {\\r\\n          \\\"type\\\": \\\"filter\\\",\\r\\n          \\\"expr\\\": \\\"!groupSelector || groupSelector.stk1 == datum.stk1 || groupSelector.stk2 == datum.stk2\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"datum.stk1+datum.stk2\\\",\\r\\n          \\\"as\\\": \\\"key\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"fold\\\",\\r\\n          \\\"fields\\\": [\\\"stk1\\\", \\\"stk2\\\"],\\r\\n          \\\"as\\\": [\\\"stack\\\", \\\"grpId\\\"]\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"datum.stack == 'stk1' ? datum.stk1+datum.stk2 : datum.stk2+datum.stk1\\\",\\r\\n          \\\"as\\\": \\\"sortField\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"stack\\\",\\r\\n          \\\"groupby\\\": [\\\"stack\\\"],\\r\\n          \\\"sort\\\": {\\r\\n            \\\"field\\\": \\\"sortField\\\",\\r\\n            \\\"order\\\": \\\"descending\\\"\\r\\n          },\\r\\n          \\\"field\\\": \\\"size\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"(datum.y0+datum.y1)/2\\\",\\r\\n          \\\"as\\\": \\\"yc\\\"\\r\\n        }\\r\\n      ]\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"groups\\\",\\r\\n      \\\"source\\\": \\\"nodes\\\",\\r\\n      \\\"transform\\\": [\\r\\n        {\\r\\n          \\\"type\\\": \\\"aggregate\\\",\\r\\n          \\\"groupby\\\": [\\\"stack\\\", \\\"grpId\\\"],\\r\\n          \\\"fields\\\": [\\\"size\\\"],\\r\\n          \\\"ops\\\": [\\\"sum\\\"],\\r\\n          \\\"as\\\": [\\\"total\\\"]\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"stack\\\",\\r\\n          \\\"groupby\\\": [\\\"stack\\\"],\\r\\n          \\\"sort\\\": {\\r\\n            \\\"field\\\": \\\"grpId\\\",\\r\\n            \\\"order\\\": \\\"descending\\\"\\r\\n          },\\r\\n          \\\"field\\\": \\\"total\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"scale('y', datum.y0)\\\",\\r\\n          \\\"as\\\": \\\"scaledY0\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"scale('y', datum.y1)\\\",\\r\\n          \\\"as\\\": \\\"scaledY1\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"datum.stack == 'stk1'\\\",\\r\\n          \\\"as\\\": \\\"rightLabel\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"datum.total/domain('y')[1]\\\",\\r\\n          \\\"as\\\": \\\"percentage\\\"\\r\\n        }\\r\\n      ]\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"destinationNodes\\\",\\r\\n      \\\"source\\\": \\\"nodes\\\",\\r\\n      \\\"transform\\\": [\\r\\n        {\\r\\n          \\\"type\\\": \\\"filter\\\",\\r\\n          \\\"expr\\\": \\\"datum.stack == 'stk2'\\\"\\r\\n        }\\r\\n      ]\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"edges\\\",\\r\\n      \\\"source\\\": \\\"nodes\\\",\\r\\n      \\\"transform\\\": [\\r\\n        {\\r\\n          \\\"type\\\": \\\"filter\\\",\\r\\n          \\\"expr\\\": \\\"datum.stack == 'stk1'\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"lookup\\\",\\r\\n          \\\"from\\\": \\\"destinationNodes\\\",\\r\\n          \\\"key\\\": \\\"key\\\",\\r\\n          \\\"fields\\\": [\\\"key\\\"],\\r\\n          \\\"as\\\": [\\\"target\\\"]\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"linkpath\\\",\\r\\n          \\\"orient\\\": \\\"horizontal\\\",\\r\\n          \\\"shape\\\": \\\"diagonal\\\",\\r\\n          \\\"sourceY\\\": {\\r\\n            \\\"expr\\\": \\\"scale('y', datum.yc)\\\"\\r\\n          },\\r\\n          \\\"sourceX\\\": {\\r\\n            \\\"expr\\\": \\\"scale('x', 'stk1') + bandwidth('x')\\\"\\r\\n          },\\r\\n          \\\"targetY\\\": {\\r\\n            \\\"expr\\\": \\\"scale('y', datum.target.yc)\\\"\\r\\n          },\\r\\n          \\\"targetX\\\": {\\r\\n            \\\"expr\\\": \\\"scale('x', 'stk2')\\\"\\r\\n          }\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"range('y')[0]-scale('y', datum.size)\\\",\\r\\n          \\\"as\\\": \\\"strokeWidth\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"type\\\": \\\"formula\\\",\\r\\n          \\\"expr\\\": \\\"datum.size/domain('y')[1]\\\",\\r\\n          \\\"as\\\": \\\"percentage\\\"\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ],\\r\\n  \\\"scales\\\": [\\r\\n    {\\r\\n      \\\"name\\\": \\\"x\\\",\\r\\n      \\\"type\\\": \\\"band\\\",\\r\\n      \\\"range\\\": \\\"width\\\",\\r\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"],\\r\\n      \\\"paddingOuter\\\": 0.05,\\r\\n      \\\"paddingInner\\\": 0.95\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"y\\\",\\r\\n      \\\"type\\\": \\\"linear\\\",\\r\\n      \\\"range\\\": \\\"height\\\",\\r\\n      \\\"domain\\\": {\\r\\n        \\\"data\\\": \\\"nodes\\\",\\r\\n        \\\"field\\\": \\\"y1\\\"\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"color\\\",\\r\\n      \\\"type\\\": \\\"ordinal\\\",\\r\\n      \\\"range\\\": \\\"category\\\",\\r\\n      \\\"domain\\\": {\\r\\n        \\\"data\\\": \\\"rawData\\\",\\r\\n        \\\"field\\\": \\\"stk1\\\"\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"stackNames\\\",\\r\\n      \\\"type\\\": \\\"ordinal\\\",\\r\\n      \\\"range\\\": [\\r\\n        \\\"Apache Traffic Source\\\",\\r\\n        \\\"Apache Traffic Desticnation\\\"\\r\\n      ],\\r\\n      \\\"domain\\\": [\\\"stk1\\\", \\\"stk2\\\"]\\r\\n    }\\r\\n  ],\\r\\n  \\\"axes\\\": [\\r\\n    {\\r\\n      \\\"orient\\\": \\\"bottom\\\",\\r\\n      \\\"scale\\\": \\\"x\\\",\\r\\n      \\\"encode\\\": {\\r\\n        \\\"labels\\\": {\\r\\n          \\\"update\\\": {\\r\\n            \\\"text\\\": {\\r\\n              \\\"scale\\\": \\\"stackNames\\\",\\r\\n              \\\"field\\\": \\\"value\\\"\\r\\n            }\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\\"orient\\\": \\\"left\\\", \\\"scale\\\": \\\"y\\\"}\\r\\n  ],\\r\\n  \\\"marks\\\": [\\r\\n    {\\r\\n      \\\"type\\\": \\\"path\\\",\\r\\n      \\\"name\\\": \\\"edgeMark\\\",\\r\\n      \\\"from\\\": {\\\"data\\\": \\\"edges\\\"},\\r\\n      \\\"clip\\\": true,\\r\\n      \\\"encode\\\": {\\r\\n        \\\"update\\\": {\\r\\n          \\\"stroke\\\": [\\r\\n            {\\r\\n              \\\"test\\\": \\\"groupSelector && groupSelector.stack=='stk1'\\\",\\r\\n              \\\"scale\\\": \\\"color\\\",\\r\\n              \\\"field\\\": \\\"stk2\\\"\\r\\n            },\\r\\n            {\\r\\n              \\\"scale\\\": \\\"color\\\",\\r\\n              \\\"field\\\": \\\"stk1\\\"\\r\\n            }\\r\\n          ],\\r\\n          \\\"strokeWidth\\\": {\\r\\n            \\\"field\\\": \\\"strokeWidth\\\"\\r\\n          },\\r\\n          \\\"path\\\": {\\\"field\\\": \\\"path\\\"},\\r\\n          \\\"strokeOpacity\\\": {\\r\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 0.9 : 0.3\\\"\\r\\n          },\\r\\n          \\\"zindex\\\": {\\r\\n            \\\"signal\\\": \\\"!groupSelector && (groupHover.stk1 == datum.stk1 || groupHover.stk2 == datum.stk2) ? 1 : 0\\\"\\r\\n          },\\r\\n          \\\"tooltip\\\": {\\r\\n            \\\"signal\\\": \\\"datum.stk1 + ' → ' + datum.stk2 + '\\\\t' + format(datum.size, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\r\\n          }\\r\\n        },\\r\\n        \\\"hover\\\": {\\r\\n          \\\"strokeOpacity\\\": {\\\"value\\\": 1}\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"rect\\\",\\r\\n      \\\"name\\\": \\\"groupMark\\\",\\r\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\r\\n      \\\"encode\\\": {\\r\\n        \\\"enter\\\": {\\r\\n          \\\"fill\\\": {\\r\\n            \\\"scale\\\": \\\"color\\\",\\r\\n            \\\"field\\\": \\\"grpId\\\"\\r\\n          },\\r\\n          \\\"width\\\": {\\\"scale\\\": \\\"x\\\", \\\"band\\\": 1}\\r\\n        },\\r\\n        \\\"update\\\": {\\r\\n          \\\"x\\\": {\\r\\n            \\\"scale\\\": \\\"x\\\",\\r\\n            \\\"field\\\": \\\"stack\\\"\\r\\n          },\\r\\n          \\\"y\\\": {\\\"field\\\": \\\"scaledY0\\\"},\\r\\n          \\\"y2\\\": {\\\"field\\\": \\\"scaledY1\\\"},\\r\\n          \\\"fillOpacity\\\": {\\\"value\\\": 0.6},\\r\\n          \\\"tooltip\\\": {\\r\\n            \\\"signal\\\": \\\"datum.grpId + '   ' + format(datum.total, ',.0f') + '   (' + format(datum.percentage, '.1%') + ')'\\\"\\r\\n          }\\r\\n        },\\r\\n        \\\"hover\\\": {\\r\\n          \\\"fillOpacity\\\": {\\\"value\\\": 1}\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"text\\\",\\r\\n      \\\"from\\\": {\\\"data\\\": \\\"groups\\\"},\\r\\n      \\\"interactive\\\": false,\\r\\n      \\\"encode\\\": {\\r\\n        \\\"update\\\": {\\r\\n          \\\"x\\\": {\\r\\n            \\\"signal\\\": \\\"scale('x', datum.stack) + (datum.rightLabel ? bandwidth('x') + 8 : -8)\\\"\\r\\n          },\\r\\n          \\\"yc\\\": {\\r\\n            \\\"signal\\\": \\\"(datum.scaledY0 + datum.scaledY1)/2\\\"\\r\\n          },\\r\\n          \\\"align\\\": {\\r\\n            \\\"signal\\\": \\\"datum.rightLabel ? 'left' : 'right'\\\"\\r\\n          },\\r\\n          \\\"baseline\\\": {\\\"value\\\": \\\"middle\\\"},\\r\\n          \\\"fontWeight\\\": {\\\"value\\\": \\\"bold\\\"},\\r\\n          \\\"text\\\": {\\r\\n            \\\"signal\\\": \\\"abs(datum.scaledY0-datum.scaledY1) > 13 ? datum.grpId : ''\\\"\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n    },\\r\\n    {\\r\\n      \\\"type\\\": \\\"group\\\",\\r\\n      \\\"data\\\": [\\r\\n        {\\r\\n          \\\"name\\\": \\\"dataForShowAll\\\",\\r\\n          \\\"values\\\": [{}],\\r\\n          \\\"transform\\\": [\\r\\n            {\\r\\n              \\\"type\\\": \\\"filter\\\",\\r\\n              \\\"expr\\\": \\\"groupSelector\\\"\\r\\n            }\\r\\n          ]\\r\\n        }\\r\\n      ],\\r\\n      \\\"encode\\\": {\\r\\n        \\\"enter\\\": {\\r\\n          \\\"xc\\\": {\\\"signal\\\": \\\"width/2\\\"},\\r\\n          \\\"y\\\": {\\\"value\\\": 30},\\r\\n          \\\"width\\\": {\\\"value\\\": 80},\\r\\n          \\\"height\\\": {\\\"value\\\": 30}\\r\\n        }\\r\\n      },\\r\\n      \\\"marks\\\": [\\r\\n        {\\r\\n          \\\"type\\\": \\\"group\\\",\\r\\n          \\\"name\\\": \\\"groupReset\\\",\\r\\n          \\\"from\\\": {\\r\\n            \\\"data\\\": \\\"dataForShowAll\\\"\\r\\n          },\\r\\n          \\\"encode\\\": {\\r\\n            \\\"enter\\\": {\\r\\n              \\\"cornerRadius\\\": {\\\"value\\\": 6},\\r\\n              \\\"fill\\\": {\\\"value\\\": \\\"#F5F7FA\\\"},\\r\\n              \\\"stroke\\\": {\\r\\n                \\\"value\\\": \\\"#c1c1c1\\\"\\r\\n              },\\r\\n              \\\"strokeWidth\\\": {\\\"value\\\": 2},\\r\\n              \\\"height\\\": {\\r\\n                \\\"field\\\": {\\\"group\\\": \\\"height\\\"}\\r\\n              },\\r\\n              \\\"width\\\": {\\r\\n                \\\"field\\\": {\\\"group\\\": \\\"width\\\"}\\r\\n              }\\r\\n            },\\r\\n            \\\"update\\\": {\\r\\n              \\\"opacity\\\": {\\\"value\\\": 1}\\r\\n            },\\r\\n            \\\"hover\\\": {\\r\\n              \\\"opacity\\\": {\\\"value\\\": 0.7}\\r\\n            }\\r\\n          },\\r\\n          \\\"marks\\\": [\\r\\n            {\\r\\n              \\\"type\\\": \\\"text\\\",\\r\\n              \\\"interactive\\\": false,\\r\\n              \\\"encode\\\": {\\r\\n                \\\"enter\\\": {\\r\\n                  \\\"xc\\\": {\\r\\n                    \\\"field\\\": {\\r\\n                      \\\"group\\\": \\\"width\\\"\\r\\n                    },\\r\\n                    \\\"mult\\\": 0.5\\r\\n                  },\\r\\n                  \\\"yc\\\": {\\r\\n                    \\\"field\\\": {\\r\\n                      \\\"group\\\": \\\"height\\\"\\r\\n                    },\\r\\n                    \\\"mult\\\": 0.5,\\r\\n                    \\\"offset\\\": 2\\r\\n                  },\\r\\n                  \\\"align\\\": {\\r\\n                    \\\"value\\\": \\\"center\\\"\\r\\n                  },\\r\\n                  \\\"baseline\\\": {\\r\\n                    \\\"value\\\": \\\"middle\\\"\\r\\n                  },\\r\\n                  \\\"fontWeight\\\": {\\r\\n                    \\\"value\\\": \\\"bold\\\"\\r\\n                  },\\r\\n                  \\\"text\\\": {\\r\\n                    \\\"value\\\": \\\"Show All\\\"\\r\\n                  }\\r\\n                }\\r\\n              }\\r\\n            }\\r\\n          ]\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ],\\r\\n  \\\"signals\\\": [\\r\\n    {\\r\\n      \\\"name\\\": \\\"groupHover\\\",\\r\\n      \\\"value\\\": {},\\r\\n      \\\"on\\\": [\\r\\n        {\\r\\n          \\\"events\\\": \\\"@groupMark:mouseover\\\",\\r\\n          \\\"update\\\": \\\"{stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"events\\\": \\\"mouseout\\\",\\r\\n          \\\"update\\\": \\\"{}\\\"\\r\\n        }\\r\\n      ]\\r\\n    },\\r\\n    {\\r\\n      \\\"name\\\": \\\"groupSelector\\\",\\r\\n      \\\"value\\\": false,\\r\\n      \\\"on\\\": [\\r\\n        {\\r\\n          \\\"events\\\": \\\"@groupMark:click!\\\",\\r\\n          \\\"update\\\": \\\"{stack:datum.stack, stk1:datum.stack=='stk1' && datum.grpId, stk2:datum.stack=='stk2' && datum.grpId}\\\"\\r\\n        },\\r\\n        {\\r\\n          \\\"events\\\": [\\r\\n            {\\r\\n              \\\"type\\\": \\\"click\\\",\\r\\n              \\\"markname\\\": \\\"groupReset\\\"\\r\\n            },\\r\\n            {\\\"type\\\": \\\"dblclick\\\"}\\r\\n          ],\\r\\n          \\\"update\\\": \\\"false\\\"\\r\\n        }\\r\\n      ]\\r\\n    }\\r\\n  ]\\r\\n}\"},\"aggs\":[]}"},"id":"0e75d090-a846-11e9-b485-1531326d2ae2","migrationVersion":{"visualization":"7.2.0"},"references":[],"type":"visualization","updated_at":"2019-07-17T04:50:28.747Z","version":"WzE2NDUsMV0="}